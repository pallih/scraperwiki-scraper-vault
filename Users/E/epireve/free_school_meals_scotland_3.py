# Data stored on individual pages not accessible from one single page
# typical URL is http://www.ltscotland.org.uk/scottishschoolsonline/schools/freemealentitlement.asp?iSchoolID=5237521
# Need to cycle through a list of those codes, created by using the =JOIN formula in Google Docs
#Note that the data says 'None' for FSM but the pages actually have * or **, which are explained below:

#NOTES ON CLEAN DATA: Percentages for schools where the number of pupils registered for free school meals is greater than 0 but less than 5 are replaced by a single asterisk (*) because they could lead to the identification of information about individuals.
#**    Percentages for schools where the number of pupils not registered for free school meals is less than 5 are replaced by double asterisks (**) because they could lead to the identification of information about individuals.

#The final data is cleaned in Google Refine, where lat/long is added for more accurate mapping
#That could be done in this scraper too by using the scraperwiki.geo.gb_postcode_to_latlng() function
#see https://scraperwiki.com/docs/python/python_help_documentation/ - although that would slow down the scraper

#If you want to understand this scraper - start at the bottom where it says 'base_url' (line 52 or so)

import scraperwiki
#import urlparse
import lxml.html

#Create a function called 'scrape_table' which is called in the function 'scrape_page' below
#The 'scrape_page' function also passed the contents of the page to this function as 'root'
def scrape_table(root):
    #Use cssselect to find the contents of a particular HTML tag, and put it in a new object 'rows'
    #there's more than one table, so we need to specify the class="destinations", represented by the full stop
    rows = root.cssselect("table.destinations tr")
    for row in rows:
        #Create a new empty record
        record = {}
        #Assign the contents of <td> to a new object called 'table_cells'
        table_cells = row.cssselect("td")
        #If there's anything
#TO ADD: AN ELSE FOR THOSE PAGES THAT SEEM TO HAVE BEEN SKIPPED? STORE ID AND 'NOT SCRAPED'?        
        if table_cells: 
            #Put the contents of the first <td> into a record in the column 'FSM'
            record['FSM'] = table_cells[0].text
            #this takes the ID number, which has been named item in the for loop below
            record['ID'] = item
            print record, '------------'
            #Save in the SQLite database, with the ID code to be used as the unique reference
            scraperwiki.sqlite.save(["ID"], record)


#this creates a new function and (re)names whatever parameter is passed to it - i.e. 'next_link' below - as 'url'
def scrape_page(url):
    #now 'url' is scraped with the scraperwiki library imported above, and the contents put into a new object, 'html'
    html = scraperwiki.scrape(url)
    print html
    #now we use the lxml.html function imported above to convert 'html' into a new object, 'root'
    root = lxml.html.fromstring(html)
    #now we call another function on root, which we write - above
    scrape_table(root)

#START HERE: This is the part of the URL which all our pages share
base_url = 'http://www.ltscotland.org.uk/scottishschoolsonline/schools/freemealentitlement.asp?iSchoolID='
#And these are the numbers which we need to complete that URL to make each individual URL
#This list has been compiled using the =JOIN formula in Google Docs on a column of school codes
schoolIDs = ['5237521','5244439','5245044','5237629','5237823','5234026','5235731','5245249','5238021','5238129','5235634','5238226','5234220','5238420','5238528','5246423','5248744','5238625','5238722','5234522','5235839','5234727','5246326','5239125','5243335','5234921','5239427','5239524','5246121','5241626','5235529','5248922','5239729','5243238','5244943','5243432','5239826','5239923','5245842','5245923','5243831','5241820','5235227','5240522','5240425','5246024','5240727','5245648','5240824','5235928','5240921','5235324','5241022','5235626','5246040','5244234','5246237','5240140','5240042','5241227','5234123','5241529','5241421','5241723','5241928','5246431','5242029','5242126','5235421','5242223','5245745','5244838','5242428','5248620','5242525','5242827','5242924','5245443','5243122','5281628','5281938','5281040','5282225','5280737','5281148','5282349','5282039','5280036','5282136','5282527','5280834','5212227','5257530','5256127','5232422','5230934','5224020','5221447','5215226','5251524','5224128','5249821','5215420','5225922','5215528','5256224','5224225','5251834','5257824','5249023','5213231','5212324','5224322','5249120','5215625','5212421','5256429','5215722','5215927','5216028','5224527','5224624','5252148','5249325','5224721','5224829','5218624','5224926','5225221','5249422','5256623','5216125','5232627','5216222','5225329','5221927','5225426','5225523','5256720','5225620','5249627','5251729','5212529','5225728','5231132','5225825','5233224','5216427','5249724','5216524','5256828','5216621','5257921','5212626','5226120','5226228','5219736','5216923','5217024','5219922','5226325','5226422','5249929','5226724','5250021','5217229','5226627','5231523','5217326','5231639','5226821','5250129','5226929','5227127','5232228','5233038','5230721','5227224','5256925','5232325','5217423','5217520','5250226','5231922','5227526','5258227','5222020','5257026','5227623','5217628','5217725','5257123','5227720','5250420','5212723','5251931','5222222','5250625','5250722','5217822','5252032','5218721','5232724','5232333','5227828','5227925','5228026','5257727','5222133','5220122','5218020','5228220','5250927','5215129','5218128','5220327','5228425','5220424','5228328','5251028','5228522','5212928','5228727','5220734','5218527','5221722','5228824','5228921','5219027','5258030','5251125','5213029','5229022','5219124','5229227','5251222','5229324','5220823','5219221','5219523','5229529','5229626','5216729','5232147','5219329','5251427','5219426','5251621','5231825','5229723','5220920','5219825','5257328','5233127','5231434','5229928','5257425','5230020','5230128','5230225','5221234','5219620','5230322','5221544','5232937','5230527','5213126','5300126','5300223','5301424','5300320','5307031','5307139','5320127','5301327','5320720','5308925','5307236','5301629','5307821','5301726','5307430','5303125','5302021','5302129','5302528','5302625','5302722','5303028','5307538','5303621','5303729','5303826','5339421','5300428','5304121','5300525','5304229','5304326','5301823','5303222','5300622','5303427','5304822','5305020','5320321','5305128','5307929','5301521','5320429','5339537','5305624','5308038','5300827','5320828','5306124','5308232','5308127','5306329','5306426','5330823','5320623','5305926','5304725','5306027','5300924','5306728','5320925','5306825','5306922','5321026','5301025','5301122','5307732','5303524','5281334','5280044','8100128','8100225','8100322','8100721','8100926','8100829','8300925','8101027','8101221','8131120','8130922','8101329','8101523','8110034','8301425','8101825','8111227','8101922','8302723','8102023','8111324','8102325','8102422','8102627','8110948','8102724','8110239','8102821','8103127','8103224','8302529','8103321','8103429','8103526','8304734','8302820','8103925','8104026','8104123','8109931','8302928','8104220','8104522','8104921','8303223','8105022','8105324','8105626','8105723','8105928','8106029','8111030','8130825','8106428','8106126','8106223','8303320','8106525','8130124','8110336','8106924','8305943','8107726','8107823','8303924','8108129','8107025','8304025','8130434','8130221','8110026','8108226','8110123','8108323','8108420','8108528','8108625','8130329','8109923','8107122','8303029','8101728','8102929','8108927','8109028','8109222','8110530','8109427','8109524','8109621','8110131','8111421','8110638','8109729','8109826','8111448','8380139','5701929','5702534','5702836','5700825','5702127','5700922','5700442','5700329','5701023','5701627','5701724','5703549','5701228','5702941','5702631','5701422','5718023','5700523','5700248','5702321','5700620','5703824','5702224','5701120','5700728','5701821','5780836','5780640','5935121','5935229','5948339','5945429','5915023','5945526','5910323','5915228','5935423','5945720','5940621','5940923','5945828','5941326','5946123','5915325','5918030','5915422','5900123','5916828','5935628','5935725','5915724','5910021','5915929','5946026','5918138','5916127','5918332','5902932','5900220','5900328','5939038','5939232','5936926','5916321','5937027','5946220','5946328','5940842','5948924','5946522','5900425','5918928','5916429','5937329','5900522','5910129','5946921','5947022','5916623','5945127','5947421','5946425','5937523','5947529','5937620','5916925','5947626','5937825','5916720','5930227','5900824','5900921','5918731','5917123','5901022','5947723','5948533','5949025','5940745','5935822','5901227','5936020','5901324','5937922','5947820','5917328','5936128','5948630','5941040','5948827','5936225','5939534','5910226','5948738','5938023','5938120','5938228','5930324','5945224','5936322','5917425','5902223','5901529','5938325','5901820','5901723','5902320','5901928','5939631','5940427','5930421','5902525','5902029','5947227','5917824','5941121','5945321','5941032','5902428','5936624','5947928','5901626','5936527','5916224','5936721','5903130','5648246','5938627','5936829','5948029','5917921','5939739','5941229','5948126','5903629','5902622','5680239','5980534','5980143','5323320','5323428','5331137','5323622','5323827','5324025','5339731','5324122','5324327','5329132','5324424','5324521','5324629','5324726','5324920','5325021','5325129','5325323','5325420','5329434','5329531','5325722','5331749','5329736','5326028','5326125','5326222','5330238','5326427','5326524','5330432','5326729','5352622','5326826','5326923','5327024','5327229','5329221','5327423','5327520','5327628','5330831','5327725','5329124','5328020','5328225','5328527','5328624','5328721','5331234','5328829','5329027','5381436','5384633','5381347','5381223','8221723','8243131','8240620','8244022','8240140','8221820','8241422','8242429','8242321','8240825','8224242','8220425','8221529','8243239','8244227','8241627','8220522','8244138','8241724','8220727','8220824','8220921','8225427','8224234','8240922','8222029','8243743','8221421','8224439','8223939','8223122','8222126','8223629','8241821','8222223','8241023','8223831','8241929','8222320','8243921','8223726','8241120','8222428','8223424','8242623','8225524','8222525','8224943','8242720','8242143','8222924','8223025','8242925','8222622','8241228','8224633','8222827','8240728','8221022','8243026','8224730','8225648','8225044','8280746','8340021','8350027','8324123','8340226','8325634','8324026','8341834','8325936','8350949','8338841','8324220','8325227','8324328','8326029','8350221','8325731','8336229','8336520','8336628','8336725','8324425','8337632','8336822','8350329','8338132','8336423','8336326','8341826','8340323','8338248','8350922','8325022','8324727','8337020','8337322','8324824','8337128','8340420','8325324','8350426','8340528','8337934','8351031','8350523','8342032','8338442','8338426','8340625','8324522','8338744','8340722','5552621','5552729','5550122','5552826','5552923','5555736','5553024','5553121','5500249','5553229','5553326','5553423','5553822','5553725','5553520','5555930','5554225','5554020','5550424','5554128','5550025','5550831','5556031','5554322','5554527','5550521','5556139','5554624','5554721','5556236','5554926','5554829','5555329','5553628','5555027','5555728','5555124','5555221','5550629','5555426','5550726','5555620','5582636','5582334','5582520','8620628','8627630','8601925','8600228','8454922','8620725','8600422','8601127','8620822','8600724','8601739','8600821','8602344','8601224','8602239','8601321','8631824','8600929','8600325','8601623','8621322','8601429','8621020','8600627','8626138','8621225','8602433','8624224','8601526','8627525','8602034','8601836','8680434','5536847','5584043','5520924','5541638','5521025','5521122','5540925','5521327','5531438','5521424','5531632','5521521','5521629','5521726','5541220','5521823','5541042','5536340','5521920','5531934','5520029','5522021','5532027','5522129','5522226','5522323','5522420','5522528','5532132','5520223','5532434','5502527','5522927','5540739','5540127','5531527','5523028','5523125','5540429','5523427','5532531','5523524','5523621','5531225','5518229','5541522','5532639','5523826','5532736','5523923','5520126','5524024','5524121','5524229','5532930','5524423','5524520','5534941','5524822','5525020','5525128','5540526','5525225','5533031','5525322','5533139','5525829','5525926','5535042','5535247','5531721','5533236','5532221','5526124','5533430','5531829','5526329','5526523','5526620','5527023','5540224','5527120','5527228','5536049','5527325','5527422','5527627','5534747','5527821','5533538','5528127','5527929','5536243','5518334','5518024','5540623','5540321','5528224','5502640','5541727','5528429','5528526','5528623','5528925','5534038','5529220','5535646','5529328','5529425','5529522','5529824','5529727','5529921','5518121','5530024','5530229','5530121','5535743','5530326','5530520','5534232','5529026','5529123','5528321','5533732','5530628','5530725','5534534','5530822','5534631','5531020','5531128','5540828','5533937','5535840','5584744','5580439','5582237','5583438','5583233','5580730','5583535','5583632','5584221','5583837','5584220','5581036','5584124','5581931','5581230','5583934','5583330','5581737','5580633','5583047','5570948','5571448','5571146','6230121','6230229','6232531','6230326','6200427','6230423','6232434','6230520','6200524','6230628','6230725','6200729','6230822','6203132','6200923','6201024','6231020','6203434','6201326','6203531','6233627','6231322','6231624','6203736','6232736','6202225','6203930','6231926','6231721','6204031','6233430','6232930','6233031','6202624','6204139','6202721','6231829','6233139','6232027','6232124','6233325','6280129','5740223','5759226','5740320','5742129','5740428','5742226','5743524','5758025','5758734','5758122','5740525','5740827','5743621','5746531','5741025','5742323','5741122','5747147','5741327','5742420','5758521','5745438','5741521','5742021','5747945','5741920','5742528','5748143','5748046','5745632','5746132','5758327','5746639','5742625','5745527','5758424','5744326','5742722','5747031','5744229','5742927','5744423','5744520','5759323','5741629','5743923','5744725','5744822','5743028','5743125','5740622','5745721','5758823','5746434','5741726','5745020','5747449','5743222','5745128','5745225','5745322','5747244','5780039','5440327','5400724','5408946','5400023','5406439','5420423','5400929','5401127','5420520','5420628','5406838','5447232','5426332','5447224','5427746','5440424','5441722','5440521','5406331','5401224','5401321','5440823','5444721','5445523','5425026','5403421','5401429','5401925','5440726','5402026','5421829','5421128','5405122','5405920','5421721','5408725','5441927','5440920','5421225','5421322','5421527','5441226','5441323','5441420','5441528','5427347','5422027','5441625','5401526','5401623','5447127','5422124','5403529','5446139','5427649','5422221','5403626','5422329','5401720','5427541','5401828','5422426','5403723','5422523','5441021','5422728','5422825','5408849','5406730','5409047','5406536','5425123','5422922','5446848','5443229','5444527','5407842','5446732','5443326','5444624','5408644','5443423','5423023','5402921','5423120','5426847','5403022','5403227','5444829','5423422','5407036','5403820','5409144','5404525','5407532','5423627','5423724','5425220','5423821','5425328','5404622','5423929','5424127','5409241','5443628','5447437','5446945','5443822','5444020','5444225','5424224','5442028','5426537','5405025','5442125','5405327','5442222','5405521','5404827','5424526','5424429','5408423','5424321','5444322','5444926','5404924','5403928','5442427','5408520','5424623','5442524','5442621','5424720','5402123','5408121','5446236','5424925','5402220','5447046','5408040','5445124','5404126','5405629','5402425','5402522','5425425','5405424','5407230','5441129','5446538','5421926','5445027','5443520','5444128','5442826','5442729','5404029','5425824','5400821','5443725','5402328','5445426','5405726','5425522','5425727','5402727','5425921','5405823','5404320','5445221','5442923','5443024','5445329','5404428','5407338','5426138','5402824','5443121','5409349','5446430','5426022','5480647','5480744','5480337','5480035','5480027','5480434','5480140','5480043','8448647','8405220','8405328','8431930','8405425','8405522','8405727','8458448','8405921','8406022','8458138','8406227','8400040','8406324','8406421','8406529','8432031','8406626','8430845','8406723','8406820','8406928','8407029','8447926','8407223','8407428','8459045','8407622','8407827','8459622','8455023','8453241','8408025','8455325','8455422','8458545','8410321','8410429','8440042','8434034','8410526','8410623','8432236','8410828','8449120','8411026','8411220','8459142','8411328','8452849','8411425','8411522','8446628','8453543','8411727','8459932','8453144','8440344','8411824','8411921','8412022','8445044','8433232','8412227','8412324','8440441','8412421','8412529','8440646','8412723','8456321','8412820','8411123','8432627','8430748','8444323','8412928','8433836','8413029','8413126','8440549','8413223','8443440','8434239','8413525','8413622','8434336','8413827','8440948','8413924','8414122','8434530','8414327','8441049','8414521','8434638','8414629','8458731','8441146','8441243','8414823','8414920','8441340','8415129','8435138','8441448','8415226','8435634','8415323','8448744','8448027','8449325','8447241','8415420','8415528','8443645','8448124','8435731','8415722','8415927','8416028','8416125','8435839','8416427','8416222','8416524','8452741','8416621','8446547','8416729','8416923','8417024','8456526','8444641','8443742','8417423','8436134','8417520','8417628','8417725','8417822','8418020','8418225','8446822','8418624','8418721','8418829','8418926','8441944','8419523','8453047','8442045','8436339','8419221','8453446','8419329','8406545','8419426','8419728','8445028','8428220','8428328','8428522','8436932','8428824','8428921','8429022','8429227','8437130','8431639','8429421','8419825','8442347','8419922','8420025','8420327','8437238','8448825','8420424','8420521','8420629','8420726','8420823','8420920','8446725','8421129','8421226','8455120','8421323','8421420','8421544','8421528','8427429','8422125','8422222','8422524','8422621','8449724','8444927','8422729','8449929','8422826','8422923','8423121','8423229','8423423','8423520','8455627','8442541','8423628','8444943','8423725','8423822','8424020','8442746','8424225','8424527','8438331','8424624','8424721','8424829','8424926','8425124','8425221','8425329','8425426','8425523','8438439','8425620','8425728','8442843','8425825','8426023','8432139','8425922','8432325','8426325','8426422','8442940','8426724','8426821','8438730','8426929','8427127','8427623','8427720','8438838','8427925','8428026','8453640','8428123','8443041','8429529','8429723','8429820','8457824','8429928','8430225','8430322','8448426','8430527','8430640','8430624','8430721','8430829','8430926','8447020','8439532','8431027','8431124','8431221','8431329','8431426','8482330','8480223','8483426','8482438','8483620','8482535','8483345','8482837','8483540','8400245','8481830','8481733','8471045','8470332','5145023','5130026','5130123','5107520','5113024','5113121','5137527','5120136','5145120','5113229','5137624','5130220','5130239','5113326','5133327','5128625','5152526','5145228','5113423','5113520','5130328','5137721','5137829','5133424','5144027','5139422','5121442','5107725','5126029','5100127','5113628','5127823','5110726','5113725','5101549','5100224','5136520','5138221','5133521','5126126','5146429','5100321','5139627','5152623','5139724','5143837','5113822','5114225','5143527','5120225','5114128','5100429','5139929','5138523','5114322','5114527','5143934','5140021','5145325','5138620','5145422','5119138','5114624','5138728','5109434','5110629','5140129','5143144','5100526','5143624','5127920','5108020','5130522','5114829','5126320','5133629','5126428','5110432','5138922','5114926','5133726','5133823','5119332','5139023','5119030','5153425','5145724','5112729','5142539','5130425','5144221','5144124','5109531','5108225','5150132','5146127','5100623','5110823','5115221','5101824','5115329','5140226','5139120','5115426','5115523','5134129','5119634','5134226','5134323','5142636','5142938','5100720','5130921','5142431','5153727','5126827','5115922','5108527','5146038','5146224','5153239','5108322','5116023','5135532','5135427','5142229','5142326','5118328','5126924','5123127','5127025','5134625','5109922','5122821','5135931','5131227','5140323','5116120','5109728','5135621','5100925','5127122','5135834','5136423','5116325','5116422','5110122','5140420','5153026','5142830','5101328','5120624','5101425','5136628','5143322','5116627','5116724','5153131','5116821','5116929','5145929','5114721','5101727','5117224','5120527','5101026','5123437','5123526','5117429','5128234','5128722','5101921','5127424','5140625','5101123','5108624','5153220','5108721','5135125','5135028','5120829','5108829','5117828','5126525','5141621','5115620','5102529','5134420','5134722','5120047','5120748','5140528','5128323','5108926','5118123','5102626','5143721','5118220','5111226','5131324','5127521','5119839','5118425','5118522','5141923','5100046','5101220','5102030','5142024','5110327','5118727','5118824','5127629','5119936','5153522','5136121','5101522','5102138','5180023','5180538','8640327','8643229','8643326','8645744','8645841','8644438','8641323','8644632','8644934','8644225','8640629','8640726','8643520','8642923','8643024','8640823','8640920','8641129','8645949','8640246','8641420','8645132','8640521','8641226','8645531','8641528','8641625','8644020','8642729','8645434','8643822','8641722','8643628','8641927','8642028','8642125','8642222','8643725','8642427','8642826','8642524','8645639','8646031','8644721','8681139','8680639','5547938','5542022','5542421','5544424','5544920','5542626','5542723','5545021','5545838','5543126','5545129','5543320','5543428','5542227','5546621','5543622','5542820','5547423','5544521','5546532','5543827','5543924','5545226','5544122','5546036','5544629','5547326','5544823','5546834','5545420','5545625','5545323','5546443','5544726','5546230','5543029','5544327','5544025','5542324','5545528','5543525','5546346','5545722','5542928','5209722','5200326','5201322','5201527','5200423','5206227','5208734','5200520','5206626','5206324','5206723','5206820','5206928','5200628','5200725','5200822','5202736','5210038','5207126','5203031','5207223','5209927','5201624','5202124','5207428','5208831','5207525','5201721','5201829','5201926','5202027','5203139','5206421','5202930','5202825','5207827','5202329','5202426','5202523','5207924','5210127','5208025','5208122','5208327','5202620','5208424','5201020','5208939','5202221','5206529','5201128','5207622','5209234','5201225','5280435','5280338','5282438','5280125','8212627','8218323','8214123','8214638','8200831','8216134','8210829','8212724','8218129','8200122','8217920','8218625','8211825','8200327','8212821','8218226','8210926','8211124','8213429','8211221','8218021','8215634','8211329','8211922','8214328','8211426','8215030','8214220','8217742','8215138','8217440','8216541','8212023','8216223','8200424','8217831','8218420','8215839','8218722','8212120','8213623','8211523','8212929','8200521','8200629','8213925','8214026','8215936','8213720','8211620','8218528','8214425','8217025','8217521','8213224','8215731','8211027','8210721','8213127','8217149','8210527','8216827','8214522','8216924','8200726','8210624','8212422','8280541','8280649','8359334','8357021','8505438','8519323','8500223','8516421','8500320','8510326','8340129','8359229','8358427','8358028','8501726','8516634','8510423','8515328','8518149','8516839','8519234','8514925','8512426','8501920','8517231','8505632','8511128','8355622','8518637','8507627','8515425','8512523','8358125','8511527','8500428','8518521','8342334','8341125','8502226','8511721','8517932','8518246','8506132','8517738','8515522','8506434','8355223','8502021','8357234','8355525','8516936','8507147','8500525','8514526','8359822','8518548','8518041','8341222','8502420','8504326','8512620','8357544','8504822','8341427','8500622','8357331','8504520','8502625','8355428','8512221','8512027','8513821','8355924','8358532','8358222','8504628','8502722','8512728','8512825','8515727','8502927','8510520','8512922','8507848','8512329','8512124','8513023','8513120','8513422','8504725','8514224','8513627','8513929','8510628','8503028','8511322','8504423','8357439','8517134','8514429','8350647','8500827','8505020','8507945','8359121','8351147','8500924','8506639','8510725','8504024','8504121','8517436','8515824','8511624','8506736','8300429','8501025','8503125','8341621','8503222','8513228','8503427','8513325','8514127','8515026','8505128','8501122','8501327','8357129','8515123','8510822','8355320','8515921','8503524','8341028','8501823','8356726','8357323','8505934','8356823','8502129','8505322','8511829','8516022','8358931','8341524','8503621','8506930','8358826','8503729','8514321','8514623','8501424','8503826','8513724','8516227','8503923','8514720','8341729','8514828','8519137','8516324','8501521','8504229','8501629','8359423','8359024','8550743','8515220','8357226','8580545','8580448','8370044','6000223','6000428','6000525','6002927','6000924','6001025','6004040','6003427','6001521','6002730','6001726','6002838','6001823','6001920','6001629','6003036','6002129','6003230','6003621','6003729','6002420','6003532','6002528','6003834','5340128','5340225','5340322','5352223','5340721','5340829','5340926','5347327','5341124','5341329','5350131','5341620','5341728','5349834','5341922','5346525','5351642','5342228','5342422','5342627','5350220','5346827','5350336','5342724','5341825','5343127','5343224','5343429','5343526','5343720','5344026','5344220','5346924','5349826','5344328','5344425','5344522','5341426','5344727','5339022','5344824','5359627','5345022','5347025','5350530','5345227','5345324','5347122','5345421','5345529','5339227','5349729','5345626','5345723','5345928','5346029','5340020','5346223','5346320','5352029','5347424','5347521','5350638','5350832','5351030','5348021','5351332','5348129','5348226','5348722','5342929','5348420','5351138','5342821','5348528','5347629','5348625','5347726','5341523','5348927','5349125','5349222','5349427','5350034','5351448','5347823','5347920','5380235','5381649','5380537','5381037','5380332','5381533','5381142','5381746','5381940','5380936','5370035','8626928','8622620','8621829','8633223','8621527','8624526','8621624','8624623','8628939','8632146','8622728','8624720','8623422','8624828','8622124','8625026','8628831','8633436','8624925','8622221','8622426','8631247','8622523','8628130','8631344','8623228','8627029','8643121','8625123','8628432','8625220','8623929','8627126','8625425','8627223','8623724','8628734','8627932','8625522','8622027','8630534','8626529','8629439','8633525','8622922','8628637','8625727','8625824','8628238','8623023','8625921','8622329','8627320','8629722','8621926','8632421','8623120','8626022','8626227','8626324','8631042','8627428','8626626','8632030','8621721','8626723','8626820','8623325','8680949','8680132','8680744','8680523','8580626','8680035','8681040','8670242','5630029','5645026','5618320','5647339','5633222','5600227','5618428','5630525','5645123','5618126','5616026','5645220','5645328','5645425','5645522','5645727','5630223','5630622','5645824','5616530','5620724','5645921','5600324','5631629','5630320','5618223','5647436','5647827','5615127','5619734','5630428','5618827','5646227','5646324','5601029','5632536','5615224','5631327','5631424','5600146','5646421','5632730','5632838','5600529','5619122','5619424','5620627','5616220','5620023','5620120','5631726','5631823','5600928','5620228','5631920','5631521','5601932','5619327','5601126','5646820','5632021','5619831','5632226','5620325','5619521','5618622','5630827','5618924','5600421','5633125','5615321','5647029','5632323','5630045','5630924','5620424','5601622','5601827','5647126','5631025','5619629','5632420','5680131','6103030','6103634','6103138','6101720','6103332','6100120','6100228','6100325','6100422','6100627','6100724','6100821','6100929','6101321','6101429','6101828','6103731','6104428','6101925','6102026','6102123','6104223','6102220','6102328','6103839','6103936','6102425','6102530','6104320','6102727','6101127','6101623','6102824','6104134','6102921','8230625','8230323','8235538','8232229','8235228','8232326','8232423','8235732','8230722','8233829','8236739','8232520','8232628','8237646','8232725','8232822','8231028','8233020','8233128','8233225','8231125','8233926','8236534','8233322','8234523','8231923','8231222','8231427','8231524','8237549','8237425','8234620','8233527','8238030','8233721','8236038','8237832','8234124','8234221','8235325','8237921','8234426','8236836','8236232','8238324','8244545','8230420','8234027','8232024','8234728','8235422','8234825','8238227','8234922','8235023','8235120','8232121','8280533','8545022','8545227','8520224','8530025','8534438','8456720','8521123','8545421','8549834','8550921','8530521','8545529','8524130','8520623','8545723','8545820','8456828','8456925','8455821','8457026','8530629','8549931','8545928','8546126','8546223','8546428','8546320','8530726','8458332','8457123','8530327','8521220','8533334','8546525','8546622','8522723','8525447','8546924','8547025','8547122','8534225','8520127','8520321','8547521','8533431','8524432','8530823','8547726','8532729','8532826','8522820','8520828','8534144','8530920','8531021','8456429','8524734','8550840','8522928','8531129','8522626','8550824','8524831','8533539','8531226','8455724','8524939','8547920','8534322','8550727','8531323','8533946','8548021','8550034','8548129','8525234','8548226','8548420','8550131','8548528','8457220','8531420','8523029','8531528','8551022','8533229','8531625','8534527','8523827','8531722','8521328','8523320','8548625','8526222','8531927','8523428','8550344','8547629','8548927','8523126','8550948','8525749','8523525','8532621','8457727','8533733','8521522','8457328','8546029','8520429','8533636','8455929','8520720','8456224','8456623','8457425','8521727','8525722','8532028','8523924','8521824','8545626','8520526','8532125','8532222','8532427','8457522','8526028','8521921','8523223','8550220','8522022','8533024','8522227','8522324','8532524','8549125','8523622','8458634','8533830','8549222','8522421','8458030','8525331','8522529','8549427','8518343','8549524','8456127','8534543','8533121','8549621','8526125','8548323','8526427','8480737','8580235','8570140','5720028','5724821','5726034','5722527','5726131','5723124','5724929','5725127','5723329','5723426','5723523','5720427','5723620','5720346','5725224','5723728','5720524','5720621','5720729','5723922','5722438','5720826','5724023','5724120','5724228','5724325','5721024','5725526','5724422','5726840','5724627','5721121','5721326','5724724','5721628','5722330','5745829','5721725','5720540','5725321','5725429','5720648','5723825','5720923','5723221','5725720','5726336','5725623','5726239','5725828','5721822','5722020','5722128','5726530','5726646','5781043','5780136','5781347','5780438','5780942','8301727','8301220','8301824','8314330','8313628','8300623','8314136','8314926','8315248','8301921','8304130','8312427','8302626','8313822','8314020','8301026','8305528','8303126','8312729','8314942','8302022','8301328','8300720','8312826','8303428','8312923','8304238','8313423','8303622','8314438','8314632','8313024','8313121','8301123','8303827','8300828','8313725','8302227','8302324','8302421','8305129','8313520','8301042','8304831','8313229','5500125','5509238','5504627','5504929','5502721','5509432','5509343','5500427','5505720','5505828','5505127','5505925','5510031','5506026','5511941','5502926','5511844','5508525','5502535','5507626','5506425','5500826','5500141','5500524','5504724','5506727','5506921','5501024','5509122','5501121','5502632','5500044','5506123','5500729','5507529','5501229','5510236','5503027','5507227','5502225','5507723','5507421','5511623','5501520','5505526','5500346','5505623','5508029','5501628','5512220','5510546','5508622','5501725','5501326','5507820','5512026','5504821','5505224','5511526','5506824','5507324','5508827','5509939','5512530','5505321','5501822','5506220','5511224','5500621','5500222','5507928','5512131','5501423','5508126','5508223','5508320','5502330','5508428','5510430','5508924','5512425','5509025','5505429','5502020','5584647']

#go through the schoolIDs list above, and for each ID...
for item in schoolIDs:
    #show it in the console
    print item
    #create a URL called 'next_link' which adds that ID to the end of the base_url variable
    next_link = base_url+item
    #pass that new concatenated URL to a function, 'scrape_page', which is scripted above
    scrape_page(next_link)
